{"ast":null,"code":"var _jsxFileName = \"/Users/gojieun/Desktop/meong/prepare/front/pages/map.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport { LOAD_MY_INFO_REQUEST, SIGN_UP_REQUEST } from '../reducers/user';\nimport wrapper from '../store/configureStore';\nimport Head from 'next/head';\nimport AppLayout from '../components/AppLayout';\nimport KakaomapComponent from \"../src/KakaomapComponent\";\nimport OtherLayout from '../components/OtherLayout';\n\nconst Map = () => {\n  const kakaoMap = React.useRef(null);\n  useEffect(() => {\n    if (kakaoMap && kakaoMap.current) {\n      var markers = [];\n      var mapContainer = document.getElementById('map'),\n          // 지도를 표시할 div \n      mapOption = {\n        center: new kakao.maps.LatLng(37.566826, 126.9786567),\n        // 지도의 중심좌표\n        level: 3 // 지도의 확대 레벨\n\n      }; // 지도를 생성합니다    \n\n      var map = new kakao.maps.Map(mapContainer, mapOption); // 장소 검색 객체를 생성합니다\n\n      var ps = new kakao.maps.services.Places(); // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다\n\n      var infowindow = new kakao.maps.InfoWindow({\n        zIndex: 1\n      }); // 키워드로 장소를 검색합니다\n\n      searchPlaces(); // 키워드 검색을 요청하는 함수입니다\n\n      function searchPlaces() {\n        var keyword = document.getElementById('keyword').value;\n\n        if (!keyword.replace(/^\\s+|\\s+$/g, '')) {\n          alert('키워드를 입력해주세요!');\n          return false;\n        } // 장소검색 객체를 통해 키워드로 장소검색을 요청합니다\n\n\n        ps.keywordSearch(keyword, placesSearchCB);\n      } // 장소검색이 완료됐을 때 호출되는 콜백함수 입니다\n\n\n      function placesSearchCB(data, status, pagination) {\n        if (status === kakao.maps.services.Status.OK) {\n          // 정상적으로 검색이 완료됐으면\n          // 검색 목록과 마커를 표출합니다\n          displayPlaces(data); // 페이지 번호를 표출합니다\n\n          displayPagination(pagination);\n        } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n          alert('검색 결과가 존재하지 않습니다.');\n          return;\n        } else if (status === kakao.maps.services.Status.ERROR) {\n          alert('검색 결과 중 오류가 발생했습니다.');\n          return;\n        }\n      } // 검색 결과 목록과 마커를 표출하는 함수입니다\n\n\n      function displayPlaces(places) {\n        var listEl = document.getElementById('placesList'),\n            menuEl = document.getElementById('menu_wrap'),\n            fragment = document.createDocumentFragment(),\n            bounds = new kakao.maps.LatLngBounds(),\n            listStr = ''; // 검색 결과 목록에 추가된 항목들을 제거합니다\n\n        removeAllChildNods(listEl); // 지도에 표시되고 있는 마커를 제거합니다\n\n        removeMarker();\n\n        for (var i = 0; i < places.length; i++) {\n          // 마커를 생성하고 지도에 표시합니다\n          var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),\n              marker = addMarker(placePosition, i),\n              itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다\n          // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n          // LatLngBounds 객체에 좌표를 추가합니다\n\n          bounds.extend(placePosition); // 마커와 검색결과 항목에 mouseover 했을때\n          // 해당 장소에 인포윈도우에 장소명을 표시합니다\n          // mouseout 했을 때는 인포윈도우를 닫습니다\n\n          (function (marker, title) {\n            kakao.maps.event.addListener(marker, 'mouseover', function () {\n              displayInfowindow(marker, title);\n            });\n            kakao.maps.event.addListener(marker, 'mouseout', function () {\n              infowindow.close();\n            });\n\n            itemEl.onmouseover = function () {\n              displayInfowindow(marker, title);\n            };\n\n            itemEl.onmouseout = function () {\n              infowindow.close();\n            };\n          })(marker, places[i].place_name);\n\n          fragment.appendChild(itemEl);\n        } // 검색결과 항목들을 검색결과 목록 Element에 추가합니다\n\n\n        listEl.appendChild(fragment);\n        menuEl.scrollTop = 0; // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n\n        map.setBounds(bounds);\n      } // 검색결과 항목을 Element로 반환하는 함수입니다\n\n\n      function getListItem(index, places) {\n        var el = document.createElement('li'),\n            itemStr = '<span class=\"markerbg marker_' + (index + 1) + '\"></span>' + '<div class=\"info\">' + '   <h5>' + places.place_name + '</h5>';\n\n        if (places.road_address_name) {\n          itemStr += '    <span>' + places.road_address_name + '</span>' + '   <span class=\"jibun gray\">' + places.address_name + '</span>';\n        } else {\n          itemStr += '    <span>' + places.address_name + '</span>';\n        }\n\n        itemStr += '  <span class=\"tel\">' + places.phone + '</span>' + '</div>';\n        el.innerHTML = itemStr;\n        el.className = 'item';\n        return el;\n      } // 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다\n\n\n      function addMarker(position, idx, title) {\n        var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png',\n            // 마커 이미지 url, 스프라이트 이미지를 씁니다\n        imageSize = new kakao.maps.Size(36, 37),\n            // 마커 이미지의 크기\n        imgOptions = {\n          spriteSize: new kakao.maps.Size(36, 691),\n          // 스프라이트 이미지의 크기\n          spriteOrigin: new kakao.maps.Point(0, idx * 46 + 10),\n          // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n          offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n\n        },\n            markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n            marker = new kakao.maps.Marker({\n          position: position,\n          // 마커의 위치\n          image: markerImage\n        });\n        marker.setMap(map); // 지도 위에 마커를 표출합니다\n\n        markers.push(marker); // 배열에 생성된 마커를 추가합니다\n\n        return marker;\n      } // 지도 위에 표시되고 있는 마커를 모두 제거합니다\n\n\n      function removeMarker() {\n        for (var i = 0; i < markers.length; i++) {\n          markers[i].setMap(null);\n        }\n\n        markers = [];\n      } // 검색결과 목록 하단에 페이지번호를 표시는 함수입니다\n\n\n      function displayPagination(pagination) {\n        var paginationEl = document.getElementById('pagination'),\n            fragment = document.createDocumentFragment(),\n            i; // 기존에 추가된 페이지번호를 삭제합니다\n\n        while (paginationEl.hasChildNodes()) {\n          paginationEl.removeChild(paginationEl.lastChild);\n        }\n\n        for (i = 1; i <= pagination.last; i++) {\n          var el = document.createElement('a');\n          el.href = \"#\";\n          el.innerHTML = i;\n\n          if (i === pagination.current) {\n            el.className = 'on';\n          } else {\n            el.onclick = function (i) {\n              return function () {\n                pagination.gotoPage(i);\n              };\n            }(i);\n          }\n\n          fragment.appendChild(el);\n        }\n\n        paginationEl.appendChild(fragment);\n      } // 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다\n      // 인포윈도우에 장소명을 표시합니다\n\n\n      function displayInfowindow(marker, title) {\n        var content = '<div style=\"padding:5px;z-index:1;\">' + title + '</div>';\n        infowindow.setContent(content);\n        infowindow.open(map, marker);\n      } // 검색결과 목록의 자식 Element를 제거하는 함수입니다\n\n\n      function removeAllChildNods(el) {\n        while (el.hasChildNodes()) {\n          el.removeChild(el.lastChild);\n        }\n      }\n    }\n  }, [kakaoMap]);\n  return __jsx(OtherLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, __jsx(KakaomapComponent, {\n    ref: kakaoMap,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  console.log('getServerSideProps start');\n  console.log(context.req.headers);\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  context.store.dispatch({\n    type: LOAD_MY_INFO_REQUEST\n  });\n  context.store.dispatch(END);\n  console.log('getServerSideProps end');\n  await context.store.sagaTask.toPromise();\n});\nexport default Map;","map":{"version":3,"names":["React","useCallback","useState","useEffect","axios","END","LOAD_MY_INFO_REQUEST","SIGN_UP_REQUEST","wrapper","Head","AppLayout","KakaomapComponent","OtherLayout","Map","kakaoMap","useRef","current","markers","mapContainer","document","getElementById","mapOption","center","kakao","maps","LatLng","level","map","ps","services","Places","infowindow","InfoWindow","zIndex","searchPlaces","keyword","value","replace","alert","keywordSearch","placesSearchCB","data","status","pagination","Status","OK","displayPlaces","displayPagination","ZERO_RESULT","ERROR","places","listEl","menuEl","fragment","createDocumentFragment","bounds","LatLngBounds","listStr","removeAllChildNods","removeMarker","i","length","placePosition","y","x","marker","addMarker","itemEl","getListItem","extend","title","event","addListener","displayInfowindow","close","onmouseover","onmouseout","place_name","appendChild","scrollTop","setBounds","index","el","createElement","itemStr","road_address_name","address_name","phone","innerHTML","className","position","idx","imageSrc","imageSize","Size","imgOptions","spriteSize","spriteOrigin","Point","offset","markerImage","MarkerImage","Marker","image","setMap","push","paginationEl","hasChildNodes","removeChild","lastChild","last","href","onclick","gotoPage","content","setContent","open","getServerSideProps","context","console","log","req","headers","cookie","defaults","Cookie","store","dispatch","type","sagaTask","toPromise"],"sources":["/Users/gojieun/Desktop/meong/prepare/front/pages/map.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport { LOAD_MY_INFO_REQUEST, SIGN_UP_REQUEST } from '../reducers/user';\nimport wrapper from '../store/configureStore';\nimport Head from 'next/head';\nimport AppLayout from '../components/AppLayout';\nimport KakaomapComponent from \"../src/KakaomapComponent\";\nimport OtherLayout from '../components/OtherLayout';\n\n\nconst Map = () => {\n    const kakaoMap = React.useRef(null);\n\n    useEffect(() => {\n      if (kakaoMap && kakaoMap.current) {\n        var markers = [];\n\n        var mapContainer = document.getElementById('map'), // 지도를 표시할 div \n            mapOption = {\n                center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표\n                level: 3 // 지도의 확대 레벨\n            };  \n        \n        // 지도를 생성합니다    \n        var map = new kakao.maps.Map(mapContainer, mapOption); \n        \n        // 장소 검색 객체를 생성합니다\n        var ps = new kakao.maps.services.Places();  \n        \n        // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다\n        var infowindow = new kakao.maps.InfoWindow({zIndex:1});\n        \n        // 키워드로 장소를 검색합니다\n        searchPlaces();\n        \n        // 키워드 검색을 요청하는 함수입니다\n        function searchPlaces() {\n        \n            var keyword = document.getElementById('keyword').value;\n        \n            if (!keyword.replace(/^\\s+|\\s+$/g, '')) {\n                alert('키워드를 입력해주세요!');\n                return false;\n            }\n        \n            // 장소검색 객체를 통해 키워드로 장소검색을 요청합니다\n            ps.keywordSearch( keyword, placesSearchCB); \n        }\n        \n        // 장소검색이 완료됐을 때 호출되는 콜백함수 입니다\n        function placesSearchCB(data, status, pagination) {\n            if (status === kakao.maps.services.Status.OK) {\n        \n                // 정상적으로 검색이 완료됐으면\n                // 검색 목록과 마커를 표출합니다\n                displayPlaces(data);\n        \n                // 페이지 번호를 표출합니다\n                displayPagination(pagination);\n        \n            } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        \n                alert('검색 결과가 존재하지 않습니다.');\n                return;\n        \n            } else if (status === kakao.maps.services.Status.ERROR) {\n        \n                alert('검색 결과 중 오류가 발생했습니다.');\n                return;\n        \n            }\n        }\n        \n        // 검색 결과 목록과 마커를 표출하는 함수입니다\n        function displayPlaces(places) {\n        \n            var listEl = document.getElementById('placesList'), \n            menuEl = document.getElementById('menu_wrap'),\n            fragment = document.createDocumentFragment(), \n            bounds = new kakao.maps.LatLngBounds(), \n            listStr = '';\n            \n            // 검색 결과 목록에 추가된 항목들을 제거합니다\n            removeAllChildNods(listEl);\n        \n            // 지도에 표시되고 있는 마커를 제거합니다\n            removeMarker();\n            \n            for ( var i=0; i<places.length; i++ ) {\n        \n                // 마커를 생성하고 지도에 표시합니다\n                var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),\n                    marker = addMarker(placePosition, i), \n                    itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다\n        \n                // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n                // LatLngBounds 객체에 좌표를 추가합니다\n                bounds.extend(placePosition);\n        \n                // 마커와 검색결과 항목에 mouseover 했을때\n                // 해당 장소에 인포윈도우에 장소명을 표시합니다\n                // mouseout 했을 때는 인포윈도우를 닫습니다\n                (function(marker, title) {\n                    kakao.maps.event.addListener(marker, 'mouseover', function() {\n                        displayInfowindow(marker, title);\n                    });\n        \n                    kakao.maps.event.addListener(marker, 'mouseout', function() {\n                        infowindow.close();\n                    });\n        \n                    itemEl.onmouseover =  function () {\n                        displayInfowindow(marker, title);\n                    };\n        \n                    itemEl.onmouseout =  function () {\n                        infowindow.close();\n                    };\n                })(marker, places[i].place_name);\n        \n                fragment.appendChild(itemEl);\n            }\n        \n            // 검색결과 항목들을 검색결과 목록 Element에 추가합니다\n            listEl.appendChild(fragment);\n            menuEl.scrollTop = 0;\n        \n            // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n            map.setBounds(bounds);\n        }\n        \n        // 검색결과 항목을 Element로 반환하는 함수입니다\n        function getListItem(index, places) {\n        \n            var el = document.createElement('li'),\n            itemStr = '<span class=\"markerbg marker_' + (index+1) + '\"></span>' +\n                        '<div class=\"info\">' +\n                        '   <h5>' + places.place_name + '</h5>';\n        \n            if (places.road_address_name) {\n                itemStr += '    <span>' + places.road_address_name + '</span>' +\n                            '   <span class=\"jibun gray\">' +  places.address_name  + '</span>';\n            } else {\n                itemStr += '    <span>' +  places.address_name  + '</span>'; \n            }\n                         \n              itemStr += '  <span class=\"tel\">' + places.phone  + '</span>' +\n                        '</div>';           \n        \n            el.innerHTML = itemStr;\n            el.className = 'item';\n        \n            return el;\n        }\n        \n        // 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다\n        function addMarker(position, idx, title) {\n            var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다\n                imageSize = new kakao.maps.Size(36, 37),  // 마커 이미지의 크기\n                imgOptions =  {\n                    spriteSize : new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기\n                    spriteOrigin : new kakao.maps.Point(0, (idx*46)+10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n                    offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n                },\n                markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n                    marker = new kakao.maps.Marker({\n                    position: position, // 마커의 위치\n                    image: markerImage \n                });\n        \n            marker.setMap(map); // 지도 위에 마커를 표출합니다\n            markers.push(marker);  // 배열에 생성된 마커를 추가합니다\n        \n            return marker;\n        }\n        \n        // 지도 위에 표시되고 있는 마커를 모두 제거합니다\n        function removeMarker() {\n            for ( var i = 0; i < markers.length; i++ ) {\n                markers[i].setMap(null);\n            }   \n            markers = [];\n        }\n        \n        // 검색결과 목록 하단에 페이지번호를 표시는 함수입니다\n        function displayPagination(pagination) {\n            var paginationEl = document.getElementById('pagination'),\n                fragment = document.createDocumentFragment(),\n                i; \n        \n            // 기존에 추가된 페이지번호를 삭제합니다\n            while (paginationEl.hasChildNodes()) {\n                paginationEl.removeChild (paginationEl.lastChild);\n            }\n        \n            for (i=1; i<=pagination.last; i++) {\n                var el = document.createElement('a');\n                el.href = \"#\";\n                el.innerHTML = i;\n        \n                if (i===pagination.current) {\n                    el.className = 'on';\n                } else {\n                    el.onclick = (function(i) {\n                        return function() {\n                            pagination.gotoPage(i);\n                        }\n                    })(i);\n                }\n        \n                fragment.appendChild(el);\n            }\n            paginationEl.appendChild(fragment);\n        }\n        \n        // 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다\n        // 인포윈도우에 장소명을 표시합니다\n        function displayInfowindow(marker, title) {\n            var content = '<div style=\"padding:5px;z-index:1;\">' + title + '</div>';\n        \n            infowindow.setContent(content);\n            infowindow.open(map, marker);\n        }\n        \n         // 검색결과 목록의 자식 Element를 제거하는 함수입니다\n        function removeAllChildNods(el) {   \n            while (el.hasChildNodes()) {\n                el.removeChild (el.lastChild);\n            }\n        }\n    }}, [kakaoMap]);\n\n    return (\n        <OtherLayout>\n            <KakaomapComponent ref={kakaoMap} />\n        </OtherLayout>\n    )\n  };\n\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n    console.log('getServerSideProps start');\n    console.log(context.req.headers);\n    const cookie = context.req ? context.req.headers.cookie : '';\n    axios.defaults.headers.Cookie = '';\n    if (context.req && cookie) {\n      axios.defaults.headers.Cookie = cookie;\n    }\n    context.store.dispatch({\n      type: LOAD_MY_INFO_REQUEST,\n    });\n    context.store.dispatch(END);\n    console.log('getServerSideProps end');\n    await context.store.sagaTask.toPromise();\n  });\n\nexport default Map;"],"mappings":"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"},"metadata":{},"sourceType":"module"}