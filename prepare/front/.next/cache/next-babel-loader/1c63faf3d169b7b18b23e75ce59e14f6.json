{"ast":null,"code":"var _jsxFileName = \"/Users/gojieun/Desktop/meong/prepare/front/pages/map.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport { LOAD_MY_INFO_REQUEST, SIGN_UP_REQUEST } from '../reducers/user';\nimport wrapper from '../store/configureStore';\nimport Head from 'next/head';\nimport AppLayout from '../components/AppLayout';\nimport KakaomapComponent from \"../src/KakaomapComponent\";\nimport OtherLayout from '../components/OtherLayout';\nimport props from '../components/LandingPage'; // head에 작성한 Kakao API 불러오기\n\nif (false) {\n  // 코드 작성\n  const {\n    kakao\n  } = window;\n}\n\nconst Map = props => {\n  // 마커를 담는 배열\n  let markers = []; // 검색어가 바뀔 때마다 재렌더링되도록 useEffect 사용\n\n  useEffect(() => {\n    const mapContainer = document.getElementById(\"map\");\n    const mapOption = {\n      center: new kakao.maps.LatLng(37.566826, 126.9786567),\n      // 지도의 중심좌표\n      level: 3 // 지도의 확대 레벨\n\n    }; // 지도를 생성\n\n    const map = new kakao.maps.Map(mapContainer, mapOption); // 장소 검색 객체를 생성\n\n    const ps = new kakao.maps.services.Places(); // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성\n\n    const infowindow = new kakao.maps.InfoWindow({\n      zIndex: 1\n    }); // 키워드로 장소를 검색합니다\n\n    searchPlaces(); // 키워드 검색을 요청하는 함수\n\n    function searchPlaces() {\n      let keyword = props.searchKeyword;\n\n      if (!(keyword !== null && keyword !== void 0 && keyword.replace(/^\\s+|\\s+$/g, \"\"))) {\n        console.log(\"키워드를 입력해주세요!\");\n        return false;\n      } // 장소검색 객체를 통해 키워드로 장소검색을 요청\n\n\n      ps.keywordSearch(keyword, placesSearchCB);\n    } // 장소검색이 완료됐을 때 호출되는 콜백함수\n\n\n    function placesSearchCB(data, status, pagination) {\n      if (status === kakao.maps.services.Status.OK) {\n        // 정상적으로 검색이 완료됐으면\n        // 검색 목록과 마커를 표출\n        displayPlaces(data); // 페이지 번호를 표출\n\n        displayPagination(pagination);\n      } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        alert('검색 결과가 존재하지 않습니다.');\n        return;\n      } else if (status === kakao.maps.services.Status.ERROR) {\n        alert('검색 결과 중 오류가 발생했습니다.');\n        return;\n      }\n    } // 검색 결과 목록과 마커를 표출하는 함수\n\n\n    function displayPlaces(places) {\n      const listEl = document.getElementById('places-list'),\n            resultEl = document.getElementById('search-result'),\n            fragment = document.createDocumentFragment(),\n            bounds = new kakao.maps.LatLngBounds(); // 검색 결과 목록에 추가된 항목들을 제거\n\n      listEl && removeAllChildNods(listEl); // 지도에 표시되고 있는 마커를 제거\n\n      removeMarker();\n\n      for (var i = 0; i < places.length; i++) {\n        // 마커를 생성하고 지도에 표시\n        let placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),\n            marker = addMarker(placePosition, i, undefined),\n            itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n        // LatLngBounds 객체에 좌표를 추가\n\n        bounds.extend(placePosition); // 마커와 검색결과 항목에 mouseover 했을때\n        // 해당 장소에 인포윈도우에 장소명을 표시\n        // mouseout 했을 때는 인포윈도우를 닫기\n\n        (function (marker, title) {\n          kakao.maps.event.addListener(marker, 'mouseover', function () {\n            displayInfowindow(marker, title);\n          });\n          kakao.maps.event.addListener(marker, 'mouseout', function () {\n            infowindow.close();\n          });\n\n          itemEl.onmouseover = function () {\n            displayInfowindow(marker, title);\n          };\n\n          itemEl.onmouseout = function () {\n            infowindow.close();\n          };\n        })(marker, places[i].place_name);\n\n        fragment.appendChild(itemEl);\n      } // 검색결과 항목들을 검색결과 목록 Element에 추가\n\n\n      listEl && listEl.appendChild(fragment);\n\n      if (resultEl) {\n        resultEl.scrollTop = 0;\n      } // 검색된 장소 위치를 기준으로 지도 범위를 재설정\n\n\n      map.setBounds(bounds);\n    } // 검색결과 항목을 Element로 반환하는 함수\n\n\n    function getListItem(index, places) {\n      const el = document.createElement('li');\n      let itemStr = `\n          <div class=\"info\">\n            <span class=\"marker marker_${index + 1}\">\n              ${index + 1}\n            </span>\n            <a href=\"${places.place_url}\">\n              <h5 class=\"info-item place-name\">${places.place_name}</h5>\n              ${places.road_address_name ? `<span class=\"info-item road-address-name\">\n                    ${places.road_address_name}\n                   </span>\n                   <span class=\"info-item address-name\">\n                 \t ${places.address_name}\n               \t   </span>` : `<span class=\"info-item address-name\">\n             \t     ${places.address_name}\n                  </span>`}\n              <span class=\"info-item tel\">\n                ${places.phone}\n              </span>\n            </a>\n          </div>\n          `;\n      el.innerHTML = itemStr;\n      el.className = 'item';\n      return el;\n    } // 마커를 생성하고 지도 위에 마커를 표시하는 함수\n\n\n    function addMarker(position, idx, title) {\n      var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png',\n          // 마커 이미지 url, 스프라이트 이미지\n      imageSize = new kakao.maps.Size(36, 37),\n          // 마커 이미지의 크기\n      imgOptions = {\n        spriteSize: new kakao.maps.Size(36, 691),\n        // 스프라이트 이미지의 크기\n        spriteOrigin: new kakao.maps.Point(0, idx * 46 + 10),\n        // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n        offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n\n      },\n          markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n          marker = new kakao.maps.Marker({\n        position: position,\n        // 마커의 위치\n        image: markerImage\n      });\n      marker.setMap(map); // 지도 위에 마커를 표출\n\n      markers.push(marker); // 배열에 생성된 마커를 추가\n\n      return marker;\n    } // 지도 위에 표시되고 있는 마커를 모두 제거합니다\n\n\n    function removeMarker() {\n      for (var i = 0; i < markers.length; i++) {\n        markers[i].setMap(null);\n      }\n\n      markers = [];\n    } // 검색결과 목록 하단에 페이지번호를 표시는 함수\n\n\n    function displayPagination(pagination) {\n      const paginationEl = document.getElementById('pagination');\n      let fragment = document.createDocumentFragment();\n      let i; // 기존에 추가된 페이지번호를 삭제\n\n      while (paginationEl.hasChildNodes()) {\n        paginationEl.lastChild && paginationEl.removeChild(paginationEl.lastChild);\n      }\n\n      for (i = 1; i <= pagination.last; i++) {\n        const el = document.createElement('a');\n        el.href = \"#\";\n        el.innerHTML = i.toString();\n\n        if (i === pagination.current) {\n          el.className = 'on';\n        } else {\n          el.onclick = function (i) {\n            return function () {\n              pagination.gotoPage(i);\n            };\n          }(i);\n        }\n\n        fragment.appendChild(el);\n      }\n\n      paginationEl.appendChild(fragment);\n    } // 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수\n    // 인포윈도우에 장소명을 표시\n\n\n    function displayInfowindow(marker, title) {\n      const content = '<div style=\"padding:5px;z-index:1;\" class=\"marker-title\">' + title + '</div>';\n      infowindow.setContent(content);\n      infowindow.open(map, marker);\n    } // 검색결과 목록의 자식 Element를 제거하는 함수\n\n\n    function removeAllChildNods(el) {\n      while (el.hasChildNodes()) {\n        el.lastChild && el.removeChild(el.lastChild);\n      }\n    }\n  }, [props.searchKeyword]);\n  return __jsx(OtherLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: \"90vw\",\n      height: \"70vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    id: \"map\",\n    style: {\n      width: \"100%\",\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    id: \"search-result\",\n    style: {\n      width: '40%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    className: \"result-text\",\n    style: {\n      backgroundColor: '#ecf4f7',\n      fontSize: '.9375rem',\n      padding: '0.75rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"result-keyword\",\n    style: {\n      width: \"100px\",\n      height: \"100px\",\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, props.searchKeyword), \"\\uAC80\\uC0C9 \\uACB0\\uACFC\"), __jsx(\"div\", {\n    className: \"scroll-wrapper\",\n    style: {\n      width: \"100px\",\n      height: \"100px\",\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 9\n    }\n  }, __jsx(\"ul\", {\n    id: \"places-list\",\n    style: {\n      width: \"100px\",\n      height: \"100px\",\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    id: \"pagination\",\n    style: {\n      width: \"100px\",\n      height: \"100px\",\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }))));\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  console.log('getServerSideProps start');\n  console.log(context.req.headers);\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  context.store.dispatch({\n    type: LOAD_MY_INFO_REQUEST\n  });\n  context.store.dispatch(END);\n  console.log('getServerSideProps end');\n  await context.store.sagaTask.toPromise();\n});\nexport default Map;","map":{"version":3,"names":["React","useCallback","useState","useEffect","axios","END","LOAD_MY_INFO_REQUEST","SIGN_UP_REQUEST","wrapper","Head","AppLayout","KakaomapComponent","OtherLayout","props","kakao","window","Map","markers","mapContainer","document","getElementById","mapOption","center","maps","LatLng","level","map","ps","services","Places","infowindow","InfoWindow","zIndex","searchPlaces","keyword","searchKeyword","replace","console","log","keywordSearch","placesSearchCB","data","status","pagination","Status","OK","displayPlaces","displayPagination","ZERO_RESULT","alert","ERROR","places","listEl","resultEl","fragment","createDocumentFragment","bounds","LatLngBounds","removeAllChildNods","removeMarker","i","length","placePosition","y","x","marker","addMarker","undefined","itemEl","getListItem","extend","title","event","addListener","displayInfowindow","close","onmouseover","onmouseout","place_name","appendChild","scrollTop","setBounds","index","el","createElement","itemStr","place_url","road_address_name","address_name","phone","innerHTML","className","position","idx","imageSrc","imageSize","Size","imgOptions","spriteSize","spriteOrigin","Point","offset","markerImage","MarkerImage","Marker","image","setMap","push","paginationEl","hasChildNodes","lastChild","removeChild","last","href","toString","current","onclick","gotoPage","content","setContent","open","width","height","backgroundColor","fontSize","padding","color","getServerSideProps","context","req","headers","cookie","defaults","Cookie","store","dispatch","type","sagaTask","toPromise"],"sources":["/Users/gojieun/Desktop/meong/prepare/front/pages/map.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport { LOAD_MY_INFO_REQUEST, SIGN_UP_REQUEST } from '../reducers/user';\nimport wrapper from '../store/configureStore';\nimport Head from 'next/head';\nimport AppLayout from '../components/AppLayout';\nimport KakaomapComponent from \"../src/KakaomapComponent\";\nimport OtherLayout from '../components/OtherLayout';\nimport props from '../components/LandingPage';\n\n// head에 작성한 Kakao API 불러오기\n\nif (typeof window !== \"undefined\") {\n  // 코드 작성\n  const { kakao } = window\n}\n\nconst Map = (props) => {\n  // 마커를 담는 배열\n  let markers = [];\n\n  // 검색어가 바뀔 때마다 재렌더링되도록 useEffect 사용\n  useEffect(() => {\n    const mapContainer = document.getElementById(\"map\");\n    const mapOption = {\n      center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도의 중심좌표\n      level: 3 // 지도의 확대 레벨\n    };\n\n    // 지도를 생성\n    const map = new kakao.maps.Map(mapContainer, mapOption); \n\n    // 장소 검색 객체를 생성\n    const ps = new kakao.maps.services.Places();  \n\n    // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성\n    const infowindow = new kakao.maps.InfoWindow({zIndex:1});\n\n    // 키워드로 장소를 검색합니다\n    searchPlaces();\n\n    // 키워드 검색을 요청하는 함수\n    function searchPlaces() {\n      let keyword = props.searchKeyword;\n\n      if (!keyword?.replace(/^\\s+|\\s+$/g, \"\")) {\n        console.log(\"키워드를 입력해주세요!\");\n        return false;\n      }\n\n      // 장소검색 객체를 통해 키워드로 장소검색을 요청\n      ps.keywordSearch(keyword, placesSearchCB);\n    }\n\n    // 장소검색이 완료됐을 때 호출되는 콜백함수\n    function placesSearchCB(data, status, pagination) {\n      if (status === kakao.maps.services.Status.OK) {\n        // 정상적으로 검색이 완료됐으면\n        // 검색 목록과 마커를 표출\n        displayPlaces(data);\n\n        // 페이지 번호를 표출\n        displayPagination(pagination);\n\n      } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n        alert('검색 결과가 존재하지 않습니다.');\n        return;\n      } else if (status === kakao.maps.services.Status.ERROR) {\n        alert('검색 결과 중 오류가 발생했습니다.');\n        return;\n      }\n    }\n\n    // 검색 결과 목록과 마커를 표출하는 함수\n    function displayPlaces(places) {\n      const listEl = document.getElementById('places-list'), \n            resultEl = document.getElementById('search-result'),\n            fragment = document.createDocumentFragment(), \n            bounds = new kakao.maps.LatLngBounds();\n\n      // 검색 결과 목록에 추가된 항목들을 제거\n      listEl && removeAllChildNods(listEl);\n\n      // 지도에 표시되고 있는 마커를 제거\n      removeMarker();\n\n      for ( var i=0; i<places.length; i++ ) {\n        // 마커를 생성하고 지도에 표시\n        let placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),\n            marker = addMarker(placePosition, i, undefined), \n            itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성\n\n        // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n        // LatLngBounds 객체에 좌표를 추가\n        bounds.extend(placePosition);\n\n        // 마커와 검색결과 항목에 mouseover 했을때\n        // 해당 장소에 인포윈도우에 장소명을 표시\n        // mouseout 했을 때는 인포윈도우를 닫기\n        (function(marker, title) {\n          kakao.maps.event.addListener(marker, 'mouseover', function() {\n            displayInfowindow(marker, title);\n          });\n\n          kakao.maps.event.addListener(marker, 'mouseout', function() {\n            infowindow.close();\n          });\n\n          itemEl.onmouseover =  function () {\n            displayInfowindow(marker, title);\n          };\n\n          itemEl.onmouseout =  function () {\n            infowindow.close();\n          };\n        })(marker, places[i].place_name);\n\n        fragment.appendChild(itemEl);\n      }\n\n      // 검색결과 항목들을 검색결과 목록 Element에 추가\n      listEl && listEl.appendChild(fragment);\n      if (resultEl) {\n        resultEl.scrollTop = 0;\n      }\n\n      // 검색된 장소 위치를 기준으로 지도 범위를 재설정\n      map.setBounds(bounds);\n    }\n\n    // 검색결과 항목을 Element로 반환하는 함수\n    function getListItem(index, places) {\n\n      const el = document.createElement('li');\n      let itemStr = `\n          <div class=\"info\">\n            <span class=\"marker marker_${index+1}\">\n              ${index+1}\n            </span>\n            <a href=\"${places.place_url}\">\n              <h5 class=\"info-item place-name\">${places.place_name}</h5>\n              ${\n                places.road_address_name \n                ? `<span class=\"info-item road-address-name\">\n                    ${places.road_address_name}\n                   </span>\n                   <span class=\"info-item address-name\">\n                 \t ${places.address_name}\n               \t   </span>`\n                : `<span class=\"info-item address-name\">\n             \t     ${places.address_name}\n                  </span>`\n              }\n              <span class=\"info-item tel\">\n                ${places.phone}\n              </span>\n            </a>\n          </div>\n          `\n\n      el.innerHTML = itemStr;\n      el.className = 'item';\n\n      return el;\n    }\n\n    // 마커를 생성하고 지도 위에 마커를 표시하는 함수\n    function addMarker(position, idx, title) {\n      var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png', // 마커 이미지 url, 스프라이트 이미지\n          imageSize = new kakao.maps.Size(36, 37),  // 마커 이미지의 크기\n          imgOptions =  {\n            spriteSize : new kakao.maps.Size(36, 691), // 스프라이트 이미지의 크기\n            spriteOrigin : new kakao.maps.Point(0, (idx*46)+10), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n            offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n          },\n          markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n          marker = new kakao.maps.Marker({\n            position: position, // 마커의 위치\n            image: markerImage \n          });\n\n      marker.setMap(map); // 지도 위에 마커를 표출\n      markers.push(marker);  // 배열에 생성된 마커를 추가\n\n      return marker;\n    }\n\n    // 지도 위에 표시되고 있는 마커를 모두 제거합니다\n    function removeMarker() {\n      for ( var i = 0; i < markers.length; i++ ) {\n        markers[i].setMap(null);\n      }\n      markers = [];\n    }\n\n    // 검색결과 목록 하단에 페이지번호를 표시는 함수\n    function displayPagination(pagination) {\n      const paginationEl = document.getElementById('pagination');\n      let fragment = document.createDocumentFragment();\n      let i; \n\n      // 기존에 추가된 페이지번호를 삭제\n      while (paginationEl.hasChildNodes()) {\n        paginationEl.lastChild &&\n          paginationEl.removeChild(paginationEl.lastChild);\n      }\n\n      for (i=1; i<=pagination.last; i++) {\n        const el = document.createElement('a');\n        el.href = \"#\";\n        el.innerHTML = i.toString();\n\n        if (i===pagination.current) {\n          el.className = 'on';\n        } else {\n          el.onclick = (function(i) {\n            return function() {\n              pagination.gotoPage(i);\n            }\n          })(i);\n        }\n\n        fragment.appendChild(el);\n      }\n      paginationEl.appendChild(fragment);\n    }\n\n    // 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수\n    // 인포윈도우에 장소명을 표시\n    function displayInfowindow(marker, title) {\n      const content = '<div style=\"padding:5px;z-index:1;\" class=\"marker-title\">' + title + '</div>';\n\n      infowindow.setContent(content);\n      infowindow.open(map, marker);\n    }\n\n    // 검색결과 목록의 자식 Element를 제거하는 함수\n    function removeAllChildNods(el) {\n      while (el.hasChildNodes()) {\n        el.lastChild &&\n          el.removeChild (el.lastChild);\n      }\n    }\n\n  }, [props.searchKeyword])\n\n  return (\n    <OtherLayout>\n    <div style={{ width: \"90vw\", height: \"70vh\" }}>\n      <div id=\"map\" style={{ width: \"100%\", height: \"100%\" }}></div>\n      <div id=\"search-result\" style={{width: '40%', }}>\n        <p className=\"result-text\" style={{ \n          backgroundColor: '#ecf4f7',\n          fontSize: '.9375rem',\n          padding: '0.75rem' }}>\n          <span className=\"result-keyword\" style={{ width: \"100px\", height: \"100px\", color: 'red' }}>\n            { props.searchKeyword }\n          </span>\n          검색 결과\n        </p>\n        <div className=\"scroll-wrapper\" style={{ width: \"100px\", height: \"100px\", color: 'red' }}>\n          <ul id=\"places-list\" style={{ width: \"100px\", height: \"100px\", color: 'red' }}></ul>\n        </div>\n        <div id=\"pagination\" style={{ width: \"100px\", height: \"100px\", color: 'red' }}></div>\n      </div>\n    </div>\n    </OtherLayout>\n  )\n  };\n\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n    console.log('getServerSideProps start');\n    console.log(context.req.headers);\n    const cookie = context.req ? context.req.headers.cookie : '';\n    axios.defaults.headers.Cookie = '';\n    if (context.req && cookie) {\n      axios.defaults.headers.Cookie = cookie;\n    }\n    context.store.dispatch({\n      type: LOAD_MY_INFO_REQUEST,\n    });\n    context.store.dispatch(END);\n    console.log('getServerSideProps end');\n    await context.store.sagaTask.toPromise();\n  });\n\nexport default Map;"],"mappings":"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"},"metadata":{},"sourceType":"module"}