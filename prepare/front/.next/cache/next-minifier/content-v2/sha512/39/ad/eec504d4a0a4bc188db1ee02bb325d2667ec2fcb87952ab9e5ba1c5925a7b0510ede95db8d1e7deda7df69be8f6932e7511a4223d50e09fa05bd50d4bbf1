{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{RNiq:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return F}));var o=n(\"q1tI\"),a=n.n(o),i=n(\"/MKj\"),r=n(\"1zst\"),l=n(\"ODXe\"),c=n(\"2/Rp\"),s=n(\"Vl3Y\"),d=n(\"5rEg\"),u=n(\"VTBJ\"),p={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"}}]},name:\"download\",theme:\"outlined\"},f=n(\"6VBw\"),m=function(e,t){return o.createElement(f.a,Object(u.a)(Object(u.a)({},e),{},{ref:t,icon:p}))};m.displayName=\"DownloadOutlined\";var h=o.forwardRef(m),b=n(\"vOnD\"),g=n(\"p+NB\"),w=n(\"3zrx\"),v=n(\"OcYQ\"),y=a.a.createElement,x=Object(b.b)(c.a).withConfig({displayName:\"PostForm__SubmitBtn\",componentId:\"sc-1s3n0yo-0\"})([\"background-color:#FFF3D4;color:#857171;border:none;border-radius:20px;width:20%;height:40px;font-weight:500;position:absolute;right:15px;bottom:15px;&:hover{background-color:#857171;border:1px solid #857171;color:white;}\"]),O=b.b.div.withConfig({displayName:\"PostForm__FileUploadWrapper\",componentId:\"sc-1s3n0yo-1\"})(['display:flex;margin-bottom:20px;#file[type=\"file\"]{display:none;}.label-holder{display:flex;margin:1em auto;width:50%;height:20vh;}.label{display:grid;place-items:center;font-size:1rem;cursor:pointer;border-radius:5px;width:100%;padding:5vh 0;}.label > span{display:flex;flex-direction:column;font-weight:500;font-size:1.1rem;color:gray;}.result{width:100%;margin-top:1rem;display:flex;flex-wrap:wrap;justify-content:left;}']),_=b.b.img.withConfig({displayName:\"PostForm__SelectedImg\",componentId:\"sc-1s3n0yo-2\"})([\"display:flex;align-items:center;justify-content:center;width:100%;\"]),j=Object(b.b)(s.a).withConfig({displayName:\"PostForm__FormWrapper\",componentId:\"sc-1s3n0yo-3\"})([\"margin:0 auto;background-color:white;height:45vh;position:relative;border-radius:20px;box-shadow:grey 1px 1px 8px -7px;\"]),E=function(){var e=Object(i.c)((function(e){return e.post})),t=e.imagePaths,n=e.addPostDone,a=Object(i.b)(),r=Object(w.a)(\"\"),s=Object(l.a)(r,3),u=s[0],p=s[1],f=s[2];Object(o.useEffect)((function(){n&&f(\"\")}),[n]);var m=Object(o.useCallback)((function(){if(!u||!u.trim())return alert(\"\\uac8c\\uc2dc\\uae00\\uc744 \\uc791\\uc131\\ud558\\uc138\\uc694.\");var e=new FormData;return t.forEach((function(t){e.append(\"image\",t)})),e.append(\"content\",u),a({type:g.e,data:e})}),[u,t]),b=Object(o.useRef)(),E=Object(o.useCallback)((function(){b.current.click()}),[b.current]),N=Object(o.useCallback)((function(e){console.log(\"images\",e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append(\"image\",e)})),a({type:g.G,data:t})}),[]),k=Object(o.useCallback)((function(e){return function(){a({type:g.v,data:e})}}),[]);return y(j,{encType:\"multipart/form-data\",onFinish:m},y(O,null,y(\"input\",{type:\"file\",name:\"image\",multiple:!0,hidden:!0,ref:b,onChange:N}),y(\"div\",{className:\"label-holder\",onClick:E},y(\"label\",{htmlFor:\"file\",className:\"label\"},y(\"span\",null,y(h,{style:{fontSize:\"30px\",marginBottom:\"10px\"}}),\"Upload Images\"))),y(\"div\",null,t.map((function(e,t){return y(\"div\",{key:e,style:{position:\"relative\"}},y(_,{src:\"\".concat(v.a,\"/\").concat(e),alt:e,style:{width:\"20vw\",heigth:\"20vh\"}}),y(c.a,{onClick:k(t),style:{position:\"absolute\",zIndex:1,top:0,right:0}},\"X\"))})))),y(d.a.TextArea,{value:u,onChange:p,maxLength:300,placeholder:\"\\ubc18\\ub824\\ub3d9\\ubb3c\\uc5d0 \\ub300\\ud55c \\uc790\\uc720\\ub85c\\uc6b4 \\uae00\\uc744 \\uc791\\uc131\\ud574\\uc8fc\\uc138\\uc694\",style:{border:\"none\"}}),y(x,{htmlType:\"submit\"},\"\\uc5c5\\ub85c\\ub4dc\"))},N=n(\"kduo\"),k=a.a.createElement,F=!0;t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})).me,n=Object(i.c)((function(e){return e.post})),a=n.mainPosts,l=n.hasMorePosts,c=n.loadPostsLoading;return Object(o.useEffect)((function(){function t(){if(window.pageYOffset+document.documentElement.clientHeight>document.documentElement.scrollHeight-300&&l&&!c){var t,n=null===(t=a[a.length-1])||void 0===t?void 0:t.id;e({type:g.n,lastId:n})}}return window.addEventListener(\"scroll\",t),function(){window.removeEventListener(\"scroll\",t)}}),[l,c,a]),k(r.a,null,t&&k(E,null),a.map((function(e){return k(N.a,{key:e.id,post:e})})))}},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return n(\"RNiq\")}])}},[[\"vlRD\",0,2,7,1,3,4,5,6,8]]]);","map":{"version":3,"sources":["static/chunks/pages/index-0ca17e5510861b415ff1.js"],"names":["_N_E","window","push","RNiq","module","__webpack_exports__","__webpack_require__","r","d","__N_SSP","react","react_default","n","es","AppLayout","slicedToArray","es_button","es_form","input","objectSpread2","asn_DownloadOutlined","icon","tag","attrs","viewBox","focusable","children","name","theme","AntdIcon","icons_DownloadOutlined_DownloadOutlined","props","ref","Object","displayName","icons_DownloadOutlined","styled_components_browser_esm","reducers_post","useInput","config","__jsx","a","createElement","SubmitBtn","withConfig","componentId","FileUploadWrapper","div","SelectedImg","img","FormWrapper","components_PostForm","_useSelector","state","post","imagePaths","addPostDone","dispatch","_useInput","_useInput2","text","onChangeText","setText","onSubmit","trim","alert","formData","FormData","forEach","p","append","type","data","imageInput","onClickImageUpload","current","click","onChangeImages","e","console","log","target","files","imageFormData","call","f","onRemoveImage","index","encType","onFinish","multiple","hidden","onChange","className","onClick","htmlFor","style","fontSize","marginBottom","map","v","i","key","position","src","concat","alt","width","heigth","zIndex","top","right","TextArea","value","maxLength","placeholder","border","htmlType","PostCard","pages_jsx","me","user","_useSelector2","mainPosts","hasMorePosts","loadPostsLoading","onScroll","pageYOffset","document","documentElement","clientHeight","scrollHeight","_mainPosts","lastId","length","id","addEventListener","removeEventListener","vlRD","exports","__NEXT_P"],"mappings":"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"},"extractedComments":[]}